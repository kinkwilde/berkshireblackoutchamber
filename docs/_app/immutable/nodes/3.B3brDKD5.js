import{a as P,t as Y}from"../chunks/disclose-version.Cl8X-Yd3.js";import"../chunks/legacy.sbs6dxha.js";import{x as we,y as Te,z as H,A as ee,B as Ee,C as Ne,D as me,H as Ie,E as ne,F as te,G as F,I as G,J as ue,K as ge,L as De,M as le,N as Me,O as Ae,P as Ce,Q as $e,R as ke,S as Le,T as Se,U as Be,m as He,V as ie,W as Re,X as Oe,Y as Ue,Z as Xe,p as Ve,j as ze,k as W,o as Fe,i as We,w as M,q as g,v,_ as Pe,$ as Ye,g as $}from"../chunks/runtime.B30TuLje.js";import{e as Ze,s as B}from"../chunks/render.DwN4Yn1h.js";import{i as qe}from"../chunks/lifecycle.B0BHvh95.js";import{s as Ge,a as de}from"../chunks/store.DuJWHEpi.js";import{o as Je}from"../chunks/index-client.B-3XcTAJ.js";import{w as ce}from"../chunks/index.C__fthRT.js";function ve(o,e){return e}function Ke(o,e,t,d){for(var m=[],i=e.length,l=0;l<i;l++)Ae(e[l].e,m,!0);var T=i>0&&m.length===0&&t!==null;if(T){var b=t.parentNode;Ce(b),b.append(t),d.clear(),k(o,e[0].prev,e[i-1].next)}$e(m,()=>{for(var f=0;f<i;f++){var h=e[f];T||(d.delete(h.k),k(o,h.prev,h.next)),ke(h.e,!T)}})}function fe(o,e,t,d,m,i=null){var l=o,T={flags:e,items:new Map,first:null};{var b=o;l=H?ee(Le(b)):b.appendChild(we())}H&&Ee();var f=null,h=!1;Te(()=>{var a=t(),c=Ne(a)?a:a==null?[]:me(a),r=c.length;if(h&&r===0)return;h=r===0;let s=!1;if(H){var x=l.data===Ie;x!==(r===0)&&(l=ne(),ee(l),te(!1),s=!0)}if(H){for(var E=null,_,n=0;n<r;n++){if(F.nodeType===8&&F.data===Se){l=F,s=!0,te(!1);break}var y=c[n],C=d(y,n);_=be(F,T,E,null,y,C,n,m,e),T.items.set(C,_),E=_}r>0&&ee(ne())}if(!H){var A=Be;Qe(c,T,l,m,e,(A.f&G)!==0,d)}i!==null&&(r===0?f?ue(f):f=ge(()=>i(l)):f!==null&&De(f,()=>{f=null})),s&&te(!0),t()}),H&&(l=F)}function Qe(o,e,t,d,m,i,l,T){var b=o.length,f=e.items,h=e.first,a=h,c,r=null,s=[],x=[],E,_,n,y;for(y=0;y<b;y+=1){if(E=o[y],_=l(E,y),n=f.get(_),n===void 0){var C=a?a.e.nodes_start:t;r=be(C,e,r,r===null?e.first:r.next,E,_,y,d,m),f.set(_,r),s=[],x=[],a=r.next;continue}if(je(n,E,y),n.e.f&G&&ue(n.e),n!==a){if(c!==void 0&&c.has(n)){if(s.length<x.length){var A=x[0],N;r=A.prev;var Z=s[0],R=s[s.length-1];for(N=0;N<s.length;N+=1)pe(s[N],A,t);for(N=0;N<x.length;N+=1)c.delete(x[N]);k(e,Z.prev,R.next),k(e,r,Z),k(e,R,A),a=A,r=R,y-=1,s=[],x=[]}else c.delete(n),pe(n,a,t),k(e,n.prev,n.next),k(e,n,r===null?e.first:r.next),k(e,r,n),r=n;continue}for(s=[],x=[];a!==null&&a.k!==_;)(i||!(a.e.f&G))&&(c??(c=new Set)).add(a),x.push(a),a=a.next;if(a===null)continue;n=a}s.push(n),r=n,a=n.next}if(a!==null||c!==void 0){for(var p=c===void 0?[]:me(c);a!==null;)(i||!(a.e.f&G))&&p.push(a),a=a.next;var u=p.length;if(u>0){var L=b===0?t:null;Ke(e,p,L,f)}}le.first=e.first&&e.first.e,le.last=r&&r.e}function je(o,e,t,d){Me(o.v,e),o.i=t}function be(o,e,t,d,m,i,l,T,b,f){var h=(b&Oe)!==0,a=(b&Ue)===0,c=h?a?He(m):ie(m):m,r=b&Re?ie(l):l,s={i:r,v:c,k:i,a:null,e:null,prev:t,next:d};try{return s.e=ge(()=>T(o,c,r),H),s.e.prev=t&&t.e,s.e.next=d&&d.e,t===null?e.first=s:(t.next=s,t.e.next=s.e),d!==null&&(d.prev=s,d.e.prev=s.e),s}finally{}}function pe(o,e,t){for(var d=o.next?o.next.e.nodes_start:t,m=e?e.e.nodes_start:t,i=o.e.nodes_start;i!==d;){var l=Xe(i);m.before(i),i=l}}function k(o,e,t){e===null?o.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}var et=Y('<div class="border-y border-red-400 bg-red-100 text-red-700" role="alert"><div class="container py-2 [&amp;_p:last-of-type]:mb-0"><p class="text-center text-sm uppercase">Still Under Development</p></div></div>');function tt(o){var e=et();P(o,e)}var at=Y(`<div class="mx-auto max-w-prose border border-blue-100 bg-blue-50 p-4 text-center [&amp;_p:last-of-type]:mb-0"><p>This is the unmodified vanilla loot from version 1.26 of the game. This table is intended to
		give you a general idea of where the standard loot is spawned, how much is spawned, the
		distribution, etc. It should help to give you an idea of where you should be looking for items.</p></div>`);function rt(o){var e=at();P(o,e)}var st=Y('<tr><td class="border border-gray-200 px-4 py-2 text-sm"> </td><td class="border border-gray-200 px-4 py-2 text-sm"> </td><td class="border border-gray-200 px-4 py-2 text-sm"> </td></tr>'),ot=Y('<div class="mb-4"><button class="accordion w-full rounded-md border border-gray-200 bg-gray-50 p-4 text-left text-sm font-medium uppercase text-black focus:outline-none"> </button> <div class="hidden bg-white p-4"><p class="mb-4 text-sm font-bold uppercase"> </p> <div class="overflow-x-auto bg-white"><table class="w-full min-w-max table-auto border-collapse"><thead><tr><th class="border border-gray-200 bg-gray-50 px-4 py-2 text-left text-sm font-semibold">Name</th><th class="border border-gray-200 bg-gray-50 px-4 py-2 text-left text-sm font-semibold">Nominal</th><th class="border border-gray-200 bg-gray-50 px-4 py-2 text-left text-sm font-semibold">Min</th></tr></thead><tbody></tbody></table></div></div></div>'),nt=Y('<!> <div class="container py-12"><div class="mb-12"><h1 class="text-center">Loot Table Overview</h1> <div class="mb-4 text-center"> </div> <div class="mx-auto mb-4 max-w-prose text-center [&amp;_p:last-of-type]:mb-0"><p><span class="block font-bold">Search the Loot Table</span> <span>Coming Soon</span></p></div> <!></div> <div class="mb-4 grid grid-cols-2 gap-4 rounded-md border border-purple-900 bg-purple-900 p-4 text-white"><div class="text-left"><p class="mb-0 text-sm font-bold uppercase"> </p></div> <div class="text-right"><p class="mb-0 text-sm font-bold uppercase">1.26</p></div></div> <div></div></div>',1);function ut(o,e){Ve(e,!1);const t=Ge(),d=()=>de(i,"$grandTotal",t),m=()=>de(l,"$accordionData",t);let i=ce(0),l=ce([]);const T=async()=>{try{const p=await fetch("types.xml");if(!p.ok)throw new Error("Failed to load XML file");const u=await p.text();b(u)}catch(p){console.error("Error:",p),alert("Error loading XML data. Check console for details.")}},b=p=>{const O=new DOMParser().parseFromString(p,"application/xml").getElementsByTagName("type"),D={};let U=0;Array.from(O).forEach(w=>{var q;const I=w.getElementsByTagName("category")[0],S=I?I.getAttribute("name"):"Uncategorized",X=parseInt(((q=w.getElementsByTagName("nominal")[0])==null?void 0:q.textContent)||"0",10);D[S]||(D[S]={items:[],totalNominal:0}),D[S].items.push(w),D[S].totalNominal+=X,U+=X});const V=Object.entries(D).map(([w,I])=>({name:w,items:I.items,totalNominal:I.totalNominal,percentage:(I.totalNominal/U*100).toFixed(1)})).sort((w,I)=>w.name==="Uncategorized"?1:I.name==="Uncategorized"?-1:w.name.localeCompare(I.name));i.set(U),l.set(V)},f=p=>{const u=p.target.closest("button").nextElementSibling;u&&u.classList.toggle("hidden")},h=new Date("2024-12-23T00:00:00Z");let a=Ye("");function c(){const u=new Date-h,L=Math.floor(u/(1e3*60*60*24)),O=Math.floor(u%(1e3*60*60*24)/(1e3*60*60)),D=Math.floor(u%(1e3*60*60)/(1e3*60));We(a,`${L} Day${L!==1?"s":""}, ${O} Hour${O!==1?"s":""}, ${D} Minute${D!==1?"s":""}`)}Je(()=>{T(),c();const p=setInterval(c,6e4);return()=>clearInterval(p)}),qe();var r=nt(),s=ze(r);tt(s);var x=M(s,2),E=g(x),_=M(g(E),2),n=g(_);v(_);var y=M(_,4);rt(y),v(E);var C=M(E,2),A=g(C),N=g(A),Z=g(N);v(N),v(A),Pe(2),v(C);var R=M(C,2);fe(R,5,m,ve,(p,u)=>{let L=()=>$(u).name,O=()=>$(u).totalNominal,D=()=>$(u).percentage,U=()=>$(u).items;var V=ot(),w=g(V),I=g(w);v(w);var S=M(w,2),X=g(S),q=g(X);v(X);var ae=M(X,2),re=g(ae),se=M(g(re));fe(se,5,U,ve,(he,J)=>{var K=st(),Q=g(K),xe=g(Q,!0);W(()=>B(xe,$(J).getAttribute("name"))),v(Q);var j=M(Q),_e=g(j,!0);W(()=>{var z;return B(_e,((z=$(J).getElementsByTagName("nominal")[0])==null?void 0:z.textContent)||"0")}),v(j);var oe=M(j),ye=g(oe,!0);W(()=>{var z;return B(ye,((z=$(J).getElementsByTagName("min")[0])==null?void 0:z.textContent)||"0")}),v(oe),v(K),P(he,K)}),v(se),v(re),v(ae),v(S),v(V),W(()=>{B(I,`${L()??""} (${U().length??""} Items) ${D()??""}%`),B(q,`Total Items: ${O()??""}`)}),Ze("click",w,f),P(p,V)}),v(R),v(x),W(()=>{B(n,`Last Wipe: ${$(a)??""}`),B(Z,`Total Items: ${d()??""}`)}),P(o,r),Fe()}export{ut as component};
